import{g as w,k as g,z as T,r as V,o as a,c as n,F as u,x as f,a as o,t as r,n as i,q as _,v as p,B as x,d as $,C as A,y as B,A as D,D as K,l as N}from"./B4nhvq4f.js";import{f as v}from"./I5KwWCup.js";const S={class:"flex flex-wrap items-start"},U={class:"flex items-end text-28px fw700"},b={class:"time-string mr-2"},q={key:0},E={key:1,class:"text-20px fw700"},F=["onUpdate:modelValue","onKeyup"],R=["onClick"],z={class:"font-italic mr-2"},L={class:"text-20px fw700"},M={key:0,class:"ml-8 mt"},J=w({__name:"category",setup(P){const l=g(),y=e=>{D(`/article?id=${e}`)},c=T(()=>!!N().query.edit),d=V(""),h=async()=>{K(async()=>{await l.addCategory(d.value)})},C=async e=>{await l.editCategory(e)},k=async e=>{await l.delCategory(e)};return(e,m)=>(a(),n("div",S,[(a(!0),n(u,null,f(i(l).categories,t=>(a(),n("div",{key:t._id,class:"flex flex-col ml-8 mt"},[o("div",U,[o("div",b,r(("formatTime"in e?e.formatTime:i(v))(t.create_date)),1),i(c)?(a(),n("div",E,[_(o("input",{class:"text-20px fw700",type:"text","onUpdate:modelValue":s=>t.name=s,onKeyup:x(s=>C(t),["enter"])},null,40,F),[[p,t.name]]),o("button",{onClick:k},"delete")])):(a(),n("div",q,r(t.name),1))]),(a(!0),n(u,null,f(i(l).allArticles.filter(s=>s.category===t._id),(s,j)=>(a(),n("div",{onClick:G=>y(s._id),class:"cp flex items-end article-brief"},[o("div",z,r(`${("formatTime"in e?e.formatTime:i(v))(s.create_date)}: `),1),o("div",L,r(`${s.title}`),1)],8,R))),256))]))),128)),i(c)?(a(),n("div",M,[$(" new Category: "),_(o("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=t=>A(d)?d.value=t:null),onKeyup:x(h,["enter"])},null,544),[[p,i(d)]])])):B("",!0)]))}});export{J as default};
